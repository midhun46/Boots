<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">substituteVariables</value>
  <array name="sig" type="value" depth="1">
    <value>[i] field:0:required inputString</value>
    <value>[o] field:0:required outputString</value>
  </array>
  <value name="sigtype">java 3.5</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ci8vIEdldCBpbnB1dCBvYmplY3RzIGZyb20gcGlwZWxpbmUKSURhdGFDdXJzb3IgaWRjUGlwZWxp
bmUgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKClN0cmluZyBzdHJJbnB1dFN0cmluZyA9IG51bGw7
CmlmIChpZGNQaXBlbGluZS5maXJzdCgiaW5wdXRTdHJpbmciKSkKewogIHN0cklucHV0U3RyaW5n
ID0gKFN0cmluZykgaWRjUGlwZWxpbmUuZ2V0VmFsdWUoKTsKfQplbHNlCnsKICAvLyBJbnB1dCBz
dHJpbmcgaXMgbnVsbAogIHJldHVybjsKfQovLyBpbnQgaW50SW5wdXRTdHJpbmdMZW4gPSBzdHJJ
bnB1dFN0cmluZy5sZW5ndGgoKTsKU3RyaW5nIHN0ck91dHB1dFN0cmluZyA9ICIiOwoKaW50IGlu
dEN1cnJlbnRJbmRleCA9IDA7CmludCBpbnRTdGFydEluZGV4ID0gMDsKaW50IGludEVuZEluZGV4
ID0gMDsKLy8gU3lzdGVtLm91dC5wcmludGxuKCJwaXBlbGluZSA9ICIgKyBwaXBlbGluZSk7Cndo
aWxlICgoaW50U3RhcnRJbmRleCA9IHN0cklucHV0U3RyaW5nLmluZGV4T2YoJyUnLCBpbnRDdXJy
ZW50SW5kZXgpKSAhPSAtMSkKewogIC8vIElmIFwlLCB0aGVuIGlnbm9yZS4uLmRvbid0IHBlcmZv
cm0gdmFyaWFibGUgc3Vic3RpdHV0aW9uCiAgaWYgKChpbnRTdGFydEluZGV4ICE9IDApICYmIChz
dHJJbnB1dFN0cmluZy5jaGFyQXQoaW50U3RhcnRJbmRleCAtIDEpID09ICdcXCcpKQogIHsKICAg
IHN0ck91dHB1dFN0cmluZyA9IHN0ck91dHB1dFN0cmluZyArIHN0cklucHV0U3RyaW5nLnN1YnN0
cmluZyhpbnRDdXJyZW50SW5kZXgsIGludFN0YXJ0SW5kZXggLSAxKSArICclJzsKICAgIGludEN1
cnJlbnRJbmRleCA9IGludFN0YXJ0SW5kZXggKyAxOwogICAgY29udGludWU7CiAgfQoKICAvLyBG
aW5kIHRoZSBlbmRpbmcgJQogIGludEVuZEluZGV4ID0gc3RySW5wdXRTdHJpbmcuaW5kZXhPZign
JScsIGludFN0YXJ0SW5kZXggKyAxKTsKICBpZiAoaW50RW5kSW5kZXggPT0gLTEpCiAgewogICAg
YnJlYWs7CiAgfQoKICAvLyBQcmludCBvdXQgZXZlcnl0aGluZyBiZWZvcmUgdGhlICUKICBzdHJP
dXRwdXRTdHJpbmcgPSBzdHJPdXRwdXRTdHJpbmcgKyBzdHJJbnB1dFN0cmluZy5zdWJzdHJpbmco
aW50Q3VycmVudEluZGV4LCBpbnRTdGFydEluZGV4KTsKICAvLyBGaW5kIHRoZSBzdHJpbmcgdG8g
c3Vic3RpdHV0ZQogIFN0cmluZyBzdHJTdHJpbmdUb1N1YnN0aXR1dGUgPSBudWxsOwogIFN0cmlu
ZyBzdHJWYXJpYWJsZU5hbWUgPSBzdHJJbnB1dFN0cmluZy5zdWJzdHJpbmcoaW50U3RhcnRJbmRl
eCArIDEsIGludEVuZEluZGV4KTsKICAvLyBTeXN0ZW0ub3V0LnByaW50bG4oInN0clZhcmlhYmxl
TmFtZSA9ICIgKyBzdHJWYXJpYWJsZU5hbWUpOwoKICBpZiAoc3RyVmFyaWFibGVOYW1lLmVxdWFs
cygiIikpCiAgewogICAgLy8gV2UgaGFkIG9jY3VyZW5jZSBvZiAiJSUiCiAgICBpbnRDdXJyZW50
SW5kZXggPSBpbnRFbmRJbmRleCArIDE7CiAgICBjb250aW51ZTsKICB9CgogIC8vIFBlcmZvcm0g
dmFyaWFibGUgc3Vic3RpdHV0aW9uCiAgU3RyaW5nVG9rZW5pemVyIHRva2VuaXplZFN0cmluZyA9
IG5ldyBTdHJpbmdUb2tlbml6ZXIoc3RyVmFyaWFibGVOYW1lLCAiLyIsIGZhbHNlKTsKICBpbnQg
bWF4VG9rZW5zID0gdG9rZW5pemVkU3RyaW5nLmNvdW50VG9rZW5zKCk7CiAgSURhdGEgY3VycmVu
dFJlY29yZCA9IG51bGw7CiAgaW50IGludFRva2VuSW5kZXggPSAxOwogIHdoaWxlICh0b2tlbml6
ZWRTdHJpbmcuaGFzTW9yZVRva2VucygpKQogIHsKICAgIFN0cmluZyBzdHJDdXJyZW50VG9rZW4g
PSB0b2tlbml6ZWRTdHJpbmcubmV4dFRva2VuKCk7CiAgICBTeXN0ZW0ub3V0LnByaW50bG4oInN0
ckN1cnJlbnRUb2tlbiA9ICIgKyBzdHJDdXJyZW50VG9rZW4pOwoKICAgIElEYXRhQ3Vyc29yIGlk
YyA9IG51bGw7CiAgICBpZiAoY3VycmVudFJlY29yZCA9PSBudWxsKQogICAgewogICAgICAvLyBO
ZXcgc2VhcmNoIC0gbG9vayBpbiBwaXBlbGluZSBmb3IgcmVjb3JkL3N0cmluZwogICAgICBpZGMg
PSBpZGNQaXBlbGluZTsKICAgICAgLy8gU3lzdGVtLm91dC5wcmludGxuKCJTZWFyY2hpbmcgaW4g
cGlwZWxpbmUiKTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgLy8gU3lzdGVtLm91dC5wcmlu
dGxuKCJTZWFyY2hpbmcgaW4gcmVjb3JkID0gIiArIGN1cnJlbnRSZWNvcmQpOwogICAgICBpZGMg
PSBjdXJyZW50UmVjb3JkLmdldEN1cnNvcigpOwogICAgfQoKICAgIGlmIChpZGMuZmlyc3Qoc3Ry
Q3VycmVudFRva2VuKSkKICAgIHsKICAgICAgT2JqZWN0IG8gPSBpZGMuZ2V0VmFsdWUoKTsKICAg
ICAgLy8gU3lzdGVtLm91dC5wcmludGxuKCJpbnRUb2tlbkluZGV4ID0gIiArIGludFRva2VuSW5k
ZXgpOwogICAgICAvLyBpZiAobyBpbnN0YW5jZW9mIFN0cmluZykKICAgICAgLy8gewogICAgICAv
LyBTeXN0ZW0ub3V0LnByaW50bG4oIlN0cmluZyEiKTsKICAgICAgLy8gfQogICAgICBpZiAoKGlu
dFRva2VuSW5kZXggPT0gbWF4VG9rZW5zKSAmJiAobyBpbnN0YW5jZW9mIFN0cmluZykpCiAgICAg
IHsKICAgICAgICAvLyBUaGlzIGlzIHRoZSBsYXN0IHRva2VuLiBMb29rIGZvciBhIHN0cmluZwog
ICAgICAgIC8vIFZhcmlhYmxlIGZvdW5kIGluIHBpcGVsaW5lCiAgICAgICAgc3RyU3RyaW5nVG9T
dWJzdGl0dXRlID0gKFN0cmluZykgbzsKICAgICAgICBzdHJPdXRwdXRTdHJpbmcgPSBzdHJPdXRw
dXRTdHJpbmcgKyBzdHJTdHJpbmdUb1N1YnN0aXR1dGU7CiAgICAgICAgaW50Q3VycmVudEluZGV4
ID0gaW50RW5kSW5kZXggKyAxOwogICAgICAgIC8vIFN5c3RlbS5vdXQucHJpbnRsbigiU3RyaW5n
IGZvdW5kIik7CiAgICAgICAgLy8gU3lzdGVtLm91dC5wcmludGxuKCJuZXcgc3RyT3V0cHV0U3Ry
aW5nID0gIiArIHN0ck91dHB1dFN0cmluZyk7CiAgICAgIH0KICAgICAgZWxzZSBpZiAoKGludFRv
a2VuSW5kZXggIT0gbWF4VG9rZW5zKSAmJiAobyBpbnN0YW5jZW9mIElEYXRhKSkKICAgICAgewog
ICAgICAgIC8vIExvb2sgZm9yIGEgSURhdGEgKHJlY29yZCkKICAgICAgICBjdXJyZW50UmVjb3Jk
ID0gKElEYXRhKSBvOwogICAgICAgIC8vIFN5c3RlbS5vdXQucHJpbnRsbigiUmVjb3JkIGZvdW5k
ID0gIiArIGN1cnJlbnRSZWNvcmQpOwogICAgICB9CiAgICAgIGVsc2UKICAgICAgewogICAgICAg
IC8vIFR5cGUgbWlzbWF0Y2ggLSB2YXJpYWJsZSBub3QgZm91bmQgaW4gcGlwZWxpbmUKICAgICAg
ICBzdHJPdXRwdXRTdHJpbmcgPSBzdHJPdXRwdXRTdHJpbmcgKyBzdHJJbnB1dFN0cmluZy5zdWJz
dHJpbmcoaW50U3RhcnRJbmRleCwgaW50RW5kSW5kZXggKyAxKTsKICAgICAgICBpbnRDdXJyZW50
SW5kZXggPSBpbnRFbmRJbmRleCArIDE7CiAgICAgICAgYnJlYWs7IC8vIElnbm9yZSBvdGhlciB0
b2tlbnMKICAgICAgfQogICAgfQogICAgZWxzZQogICAgewogICAgICAvLyBWYXJpYWJsZSBub3Qg
Zm91bmQgaW4gcGlwZWxpbmUKICAgICAgc3RyT3V0cHV0U3RyaW5nID0gc3RyT3V0cHV0U3RyaW5n
ICsgc3RySW5wdXRTdHJpbmcuc3Vic3RyaW5nKGludFN0YXJ0SW5kZXgsIGludEVuZEluZGV4ICsg
MSk7CiAgICAgIGludEN1cnJlbnRJbmRleCA9IGludEVuZEluZGV4ICsgMTsKICAgICAgYnJlYWs7
IC8vIElnbm9yZSBvdGhlciB0b2tlbnMKICAgIH0KCiAgICBpbnRUb2tlbkluZGV4Kys7CiAgfQoK
fQoKc3RyT3V0cHV0U3RyaW5nID0gc3RyT3V0cHV0U3RyaW5nICsgc3RySW5wdXRTdHJpbmcuc3Vi
c3RyaW5nKGludEN1cnJlbnRJbmRleCk7CgppZGNQaXBlbGluZS5pbnNlcnRBZnRlcigib3V0cHV0
U3RyaW5nIiwgc3RyT3V0cHV0U3RyaW5nKTsKaWRjUGlwZWxpbmUuZGVzdHJveSgpOwoK</value>
</Values>
