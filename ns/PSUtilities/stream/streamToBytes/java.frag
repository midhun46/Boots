<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">streamToBytes</value>
  <array name="sig" type="value" depth="1">
    <value>[i] object:0:required stream</value>
    <value>[o] object:0:required bytes</value>
  </array>
  <value name="sigtype">java 3.5</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCkJ5dGVB
cnJheUlucHV0U3RyZWFtIGlucHV0ID0gbnVsbDsKQnVmZmVyZWRJbnB1dFN0cmVhbSBpbnB1dDIg
PSBudWxsOwpCeXRlQXJyYXlPdXRwdXRTdHJlYW0gb3V0cHV0ID0gbmV3IEJ5dGVBcnJheU91dHB1
dFN0cmVhbSgpOwovLyBCdWZmZXJlZE91dHB1dFN0cmVhbSBvdXRwdXQyID0gbmV3IEJ1ZmVyZWRP
dXRwdXRTdHJlYW0oKTsKCmlmIChwaXBlbGluZUN1cnNvci5maXJzdCgic3RyZWFtIikpCnsKICBP
YmplY3QgbyA9IHBpcGVsaW5lQ3Vyc29yLmdldFZhbHVlKCk7CiAgaWYgKG8gaW5zdGFuY2VvZiBi
eXRlW10pCiAgewogICAgYnl0ZVtdIGJ1ZiA9IChieXRlW10pIHBpcGVsaW5lQ3Vyc29yLmdldFZh
bHVlKCk7CiAgICBpbnB1dCA9IG5ldyBCeXRlQXJyYXlJbnB1dFN0cmVhbShidWYpOwogICAgU3Ry
aW5nIHMgPSAiIjsKICAgIGJ5dGUgYltdID0gbmV3IGJ5dGVbMTAyNF07CiAgICBpbnQgYW1vdW50
OwogICAgdHJ5CiAgICB7CiAgICAgIHdoaWxlICgoYW1vdW50ID0gaW5wdXQucmVhZChiLCAwLCAx
MDI0KSkgPiAwKQogICAgICB7CiAgICAgICAgb3V0cHV0LndyaXRlKGIsIDAsIGFtb3VudCk7CiAg
ICAgIH0KICAgIH0KICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgIHsKICAgICAgcGlwZWxpbmVD
dXJzb3IuaW5zZXJ0QWZ0ZXIoImV4Y2VwdGlvbiIsIGUudG9TdHJpbmcoKSk7CiAgICB9CiAgICBw
aXBlbGluZUN1cnNvci5pbnNlcnRBZnRlcigiYnl0ZXMiLCBvdXRwdXQudG9CeXRlQXJyYXkoKSk7
CiAgfQogIGVsc2UgaWYgKG8gaW5zdGFuY2VvZiBCeXRlQXJyYXlJbnB1dFN0cmVhbSkKICB7CiAg
ICBpbnB1dCA9IChCeXRlQXJyYXlJbnB1dFN0cmVhbSkgcGlwZWxpbmVDdXJzb3IuZ2V0VmFsdWUo
KTsKICAgIFN0cmluZyBzID0gIiI7CiAgICBieXRlIGJbXSA9IG5ldyBieXRlWzEwMjRdOwogICAg
aW50IGFtb3VudDsKICAgIHRyeQogICAgewogICAgICB3aGlsZSAoKGFtb3VudCA9IGlucHV0LnJl
YWQoYiwgMCwgMTAyNCkpID4gMCkKICAgICAgewogICAgICAgIG91dHB1dC53cml0ZShiLCAwLCBh
bW91bnQpOwogICAgICB9CiAgICB9CiAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICB7CiAgICAg
IHBpcGVsaW5lQ3Vyc29yLmluc2VydEFmdGVyKCJleGNlcHRpb24iLCBlLnRvU3RyaW5nKCkpOwog
ICAgfQogICAgcGlwZWxpbmVDdXJzb3IuaW5zZXJ0QWZ0ZXIoImJ5dGVzIiwgb3V0cHV0LnRvQnl0
ZUFycmF5KCkpOwogIH0KICBlbHNlIGlmIChvIGluc3RhbmNlb2YgQnVmZmVyZWRJbnB1dFN0cmVh
bSkKICB7CiAgICBpbnB1dDIgPSAoQnVmZmVyZWRJbnB1dFN0cmVhbSkgcGlwZWxpbmVDdXJzb3Iu
Z2V0VmFsdWUoKTsKICAgIC8vIGlucHV0MiA9IG5ldyBCdWZmZXJlZElucHV0U3RyZWFtKG8pOwog
ICAgU3RyaW5nIHMgPSAiIjsKICAgIGJ5dGUgYltdID0gbmV3IGJ5dGVbMTAyNF07CiAgICBpbnQg
YW1vdW50OwogICAgdHJ5CiAgICB7CiAgICAgIHdoaWxlICgoYW1vdW50ID0gaW5wdXQyLnJlYWQo
YiwgMCwgMTAyNCkpID4gMCkKICAgICAgewogICAgICAgIG91dHB1dC53cml0ZShiLCAwLCBhbW91
bnQpOwogICAgICB9CiAgICB9CiAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICB7CiAgICAgIHBp
cGVsaW5lQ3Vyc29yLmluc2VydEFmdGVyKCJleGNlcHRpb24iLCBlLnRvU3RyaW5nKCkpOwogICAg
fQogICAgcGlwZWxpbmVDdXJzb3IuaW5zZXJ0QWZ0ZXIoImJ5dGVzIiwgb3V0cHV0LnRvQnl0ZUFy
cmF5KCkpOwogIH0KCn0K</value>
</Values>
